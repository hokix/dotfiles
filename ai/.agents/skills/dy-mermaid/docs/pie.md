# Pie Chart 饼图

## 概述

| 属性 | 值 |
|------|-----|
| **关键字** | `pie` |
| **用途** | 数据占比、份额分布、比例展示 |
| **Note 支持** | ❌ 不支持 |
| **颜色支持** | ❌ 有限（使用主题颜色） |

---

## 基础语法

### 声明方式

```mermaid
pie
    title 销售占比
    "产品A" : 40
    "产品B" : 30
    "产品C" : 20
    "其他" : 10
```

---

## 基本元素

### 标题 title

```mermaid
pie
    title 市场份额分布
    "公司A" : 45
    "公司B" : 35
    "公司C" : 20
```

### 显示数值 showData

```mermaid
pie showData
    title 员工分布
    "研发" : 35
    "产品" : 15
    "运营" : 25
    "销售" : 25
```

> `showData` 会在图例旁显示具体数值

---

## 数据定义

### 数据语法

```text
"标签" : 数值
```

### 数值规则

- 必须是**正数** (> 0)
- 支持最多**两位小数**
- 自动计算百分比

### 示例

```mermaid
pie showData
    title 预算分配
    "人力成本" : 45.5
    "硬件设备" : 20.25
    "软件服务" : 15.75
    "市场营销" : 10.5
    "其他支出" : 8
```

---

## 完整示例

### 项目时间分配

```mermaid
pie showData
    title 项目时间分配
    "需求分析" : 10
    "设计" : 15
    "开发" : 40
    "测试" : 25
    "部署" : 5
    "文档" : 5
```

### 技术栈分布

```mermaid
pie showData
    title 后端技术栈使用率
    "Java" : 45
    "Python" : 25
    "Go" : 15
    "Node.js" : 10
    "其他" : 5
```

### 用户来源分析

```mermaid
pie showData
    title 用户流量来源
    "搜索引擎" : 35
    "社交媒体" : 28
    "直接访问" : 20
    "邮件营销" : 10
    "付费广告" : 7
```

### Bug 分类统计

```mermaid
pie showData
    title Bug 严重程度分布
    "Critical" : 5
    "Major" : 15
    "Minor" : 45
    "Trivial" : 35
```

### 简单占比

```mermaid
pie
    title 完成进度
    "已完成" : 75
    "进行中" : 15
    "未开始" : 10
```

---

## 配置选项

### textPosition 文字位置

```text
%%{init: {"pie": {"textPosition": 0.5}} }%%
pie
    title 示例
    "A" : 50
    "B" : 50
```

`textPosition` 范围: 0.0 - 1.0 (默认 0.75)
- 0.0: 中心
- 1.0: 边缘

---

## 常见错误

1. **数值必须为正数**:
   ```text
   ✅ "类别" : 25
   ❌ "类别" : -5
   ❌ "类别" : 0
   ```

2. **标签需要引号**:
   ```text
   ✅ "标签名" : 25
   ❌ 标签名 : 25
   ```

3. **冒号两侧建议有空格**:
   ```text
   ✅ "标签" : 25
   ⚠️ "标签":25  # 可能有问题
   ```

4. **showData 位置**: 紧跟在 `pie` 后面
   ```text
   ✅ pie showData
   ❌ pie
      showData
   ```

5. **不支持自定义颜色**: 颜色由主题决定，按顺序分配

6. **标签不能重复**: 每个标签应唯一
   ```text
   ✅ "类别A" : 25
      "类别B" : 25
   ❌ "类别A" : 25
      "类别A" : 25
   ```
